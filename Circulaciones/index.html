<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circulaciones AV Albacete-Alicante</title>
    
    <!-- Favicon - √çcono de tren azul sobre c√≠rculo blanco -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><circle cx='12' cy='12' r='12' fill='white'/><path d='M12 4c-4 0-7.5.63-7.5 5v7.5c0 .95.38 1.81 1 2.44V22c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h7v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-3.06c.62-.63 1-1.49 1-2.44V9c0-4.37-3.08-5-7.5-5zM8.5 18c-.83 0-1.5-.67-1.5-1.5S7.67 15 8.5 15s1.5.67 1.5 1.5S9.33 18 8.5 18zm7 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm2.5-8h-11V9h11v1z' fill='%232196F3'/></svg>" type="image/svg+xml">
    <link rel="alternate icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><circle cx='12' cy='12' r='12' fill='white'/><path d='M12 4c-4 0-7.5.63-7.5 5v7.5c0 .95.38 1.81 1 2.44V22c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h7v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-3.06c.62-.63 1-1.49 1-2.44V9c0-4.37-3.08-5-7.5-5zM8.5 18c-.83 0-1.5-.67-1.5-1.5S7.67 15 8.5 15s1.5.67 1.5 1.5S9.33 18 8.5 18zm7 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm2.5-8h-11V9h11v1z' fill='%232196F3'/></svg>" type="image/svg+xml">
    <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><circle cx='12' cy='12' r='12' fill='white'/><path d='M12 4c-4 0-7.5.63-7.5 5v7.5c0 .95.38 1.81 1 2.44V22c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h7v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-3.06c.62-.63 1-1.49 1-2.44V9c0-4.37-3.08-5-7.5-5zM8.5 18c-.83 0-1.5-.67-1.5-1.5S7.67 15 8.5 15s1.5.67 1.5 1.5S9.33 18 8.5 18zm7 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm2.5-8h-11V9h11v1z' fill='%232196F3'/></svg>" type="image/svg+xml">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- *** NUEVO: Contenedor para la cabecera con logos y texto *** -->
        <div class="header-content">
            <img src="adif_logo.png" alt="Logo de ADIF Alta Velocidad" class="logo-adif">
            <div class="header-text">
                <h1>Hist√≥rico Circulaciones AV Tramo: Albacete-Alicante</h1>
                <p>Visualizaci√≥n interactiva diaria del n√∫mero de circulaciones AV entre Albacete y Alicante</p>
            </div>
            <img src="ineco_logo.png" alt="Logo de Ineco" class="logo-ineco">
        </div>

        <!-- Barra de navegaci√≥n principal -->
        <nav id="main-navigation">
            <ul>
                <li><button class="nav-btn" data-view="calendar">üìÖ Calendario</button></li>
                <li><button class="nav-btn" data-view="charts">üìä Gr√°ficos</button></li>
                <li><button class="nav-btn active" data-view="single">üìã Vista √önica</button></li>
                <li><button class="nav-btn" data-view="time">‚è±Ô∏è Eje Tiempo</button></li>
                <li><button class="nav-btn" data-view="counter">üî¢ Contador</button></li>
                <li><button class="nav-btn" data-view="files">üóÇÔ∏è Archivos</button></li>
                <li><button class="nav-btn" data-view="chatbot">ü§ñ Chatbot</button></li>
            </ul>
        </nav>

        <!-- Contenedor de filtros -->
        <div class="filters-container">
            <!-- Filtro de calendario -->
            <div class="year-selector-container">
                <label for="year-selector">Ir a:</label>
                <select id="year-selector">
                    <option value="">Selecciona un a√±o...</option>
                    <!-- Las opciones se llenar√°n con JavaScript -->
                </select>
            </div>

            <!-- Filtro de gr√°fica -->
            <div class="date-filter-container">
                <div class="date-inputs-container">
                    <div class="date-input-group">
                        <label for="start-date">Fecha Inicio:</label>
                        <input type="date" id="start-date">
                    </div>
                    <div class="date-input-group">
                        <label for="end-date">Fecha Fin:</label>
                        <input type="date" id="end-date">
                    </div>
                </div>
                <button id="apply-date-filter-btn" class="apply-filter-button">Aplicar Filtro</button>
            </div>
        </div>

        <!-- Contenedor para la vista de calendario (inicialmente visible) -->
        <div id="visualization-container" class="visualization-view">
            <!-- Aqu√≠ se renderizar√° el calendario -->
        </div>


        <!-- Contenedor para la vista de gr√°ficas (inicialmente oculto) -->
        <div id="charts-container" class="visualization-view hidden">
            <h2>An√°lisis Gr√°fico de Circulaciones</h2>
             <div id="chart-trend"></div>
             <!-- Contenedor para la gr√°fica de caja y bigotes por mes -->
             <div id="chart-boxplot-month"></div>
             <!-- Puedes a√±adir m√°s divs para otros gr√°ficos -->
        </div>
        <!-- Contenedor para filtros r√°pidos -->
        <div id="quick-filters-container" class="quick-filters-container">
            <h3>Filtros R√°pidos</h3>
            <!-- Los botones de filtro se a√±adir√°n con JavaScript -->
        </div>

        <!-- Contenedor para la vista √∫nica (inicialmente oculto) -->
        <div id="single-view-container" class="visualization-view hidden">
            <!-- Aqu√≠ se renderizar√° la tabla de vista √∫nica -->
            <div id="single-view-table"></div>
            
        </div>

        <!-- Contenedor para la vista Eje Tiempo (inicialmente oculto) -->
        <div id="time-axis-container" class="visualization-view hidden">
            <!-- Encabezado -->
            <header class="py-12 px-4 text-center">
                <div class="max-w-3xl mx-auto">
                    <h1 class="text-4xl font-bold text-[#1e3a8a] mb-4">Eje Cronol√≥gico de la Alta Velocidad Ferroviaria</h1>
                    <h2 class="text-2xl font-semibold text-[#4682b4] mb-6">Albacete - Alicante y Conexiones Clave</h2>
                    <p class="text-lg text-gray-700">Este eje cronol√≥gico presenta los hitos principales en la puesta en servicio de la infraestructura y los operadores de alta velocidad que conectan Albacete y Alicante, incluyendo el servicio Avant con Murcia y la futura conexi√≥n con X√°tiva.</p>
                </div>
            </header>

            <!-- Contenedor Principal del Cronograma -->
            <div class="timeline-container">

                <!-- L√≠nea del tiempo - Pasado/Presente -->
                <div class="timeline-line-past"></div>

                <!-- Evento 1 -->
                <div class="timeline-event" data-delay="100">
                    <div class="event-icon">‚ö™</div>
                    <div class="timeline-marker"></div>
                    <div class="event-content">
                        <div class="event-date">17 de junio de 2013</div>
                        <h3 class="event-title">Inauguraci√≥n y Renfe AVE</h3>
                        <p class="event-description">Se inaugura el tramo Albacete-Alicante de la L√≠nea de Alta Velocidad Madrid-Levante. Renfe (AVE) comienza a operar, siendo el primer operador en este trayecto.</p>
                        <div class="logo-container">
                            <img src="img/ave-logo.png" alt="Logo de Renfe AVE" class="operator-logo">
                        </div>
                    </div>
                </div>

                <!-- Evento 2 -->
                <div class="timeline-event" data-delay="300">
                    <div class="event-icon">üü†</div>
                    <div class="timeline-marker"></div>
                    <div class="event-content">
                        <div class="event-date">20 de diciembre de 2022</div>
                        <h3 class="event-title">Renfe Avant Murcia-Alicante</h3>
                        <p class="event-description">Inicio del servicio de trenes Avant de Renfe entre Murcia y Alicante, utilizando la infraestructura de alta velocidad.</p>
                        <div class="logo-container">
                            <img src="img/avant-logo.png" alt="Logo de Renfe Avant" class="operator-logo">
                        </div>
                    </div>
                </div>

                <!-- Evento 3 -->
                <div class="timeline-event" data-delay="500">
                    <div class="event-icon">üü¢</div>
                    <div class="timeline-marker"></div>
                    <div class="event-content">
                        <div class="event-date">27 de marzo de 2023</div>
                        <h3 class="event-title">Renfe Avlo</h3>
                        <p class="event-description">Comienzo de las operaciones de Renfe (Avlo), el servicio de alta velocidad de bajo coste, en la ruta Madrid-Alicante con paradas en Albacete.</p>
                        <div class="logo-container">
                            <img src="img/avlo.png" alt="Logo de Renfe Avlo" class="operator-logo">
                        </div>
                    </div>
                </div>

                <!-- Evento 4 -->
                <div class="timeline-event" data-delay="700">
                    <div class="event-icon">üü£</div>
                    <div class="timeline-marker"></div>
                    <div class="event-content">
                        <div class="event-date">27 de abril de 2023</div>
                        <h3 class="event-title">Ouigo</h3>
                        <p class="event-description">Ouigo inicia sus operaciones de alta velocidad de bajo coste en la ruta Madrid-Albacete-Alicante.</p>
                        <div class="logo-container">
                            <img src="img/ouigo-logo.png" alt="Logo de Ouigo" class="operator-logo">
                        </div>
                    </div>
                </div>

                <!-- Evento 5 -->
                <div class="timeline-event" data-delay="900">
                    <div class="event-icon">üî¥</div>
                    <div class="timeline-marker"></div>
                    <div class="event-content">
                        <div class="event-date">2 de junio de 2023</div>
                        <h3 class="event-title">Iryo</h3>
                        <p class="event-description">Iryo comienza a operar servicios de alta velocidad en el corredor que conecta Madrid, Albacete y Alicante.</p>
                        <div class="logo-container">
                            <img src="img/iryo-logo.png" alt="Logo de Iryo" class="operator-logo">
                        </div>
                    </div>
                </div>
    
                    <!-- NUEVO: Evento Fecha Actual -->


                    <div class="timeline-event current-date-event" data-delay="1000">
                        <div class="event-icon">üîµ</div>
                        <div class="timeline-marker"></div>
                        <div class="event-content">
                            <h3 class="event-title">En Servicio</h3>
                            <div class="current-date" id="current-date-display">12 de mayo de 2025</div>
                        </div>
                    </div>
    



                    <!-- L√≠nea del tiempo - Futuro -->
                    <div class="timeline-line-future"></div>

                    <!-- Evento 6 -->
                <div class="timeline-event" data-delay="1100">
                    <div class="event-icon">‚ö´</div>
                    <div class="timeline-marker"></div>
                    <div class="event-content">
                        <div class="event-date">2026</div>
                        <h3 class="event-title">Apertura de la L√≠nea AV La Encina-Bif. X√°tiva</h3>
                        <p class="event-description">Fecha prevista para la puesta en servicio de la conexi√≥n de alta velocidad entre La Encina y la Bifurcaci√≥n X√°tiva, completando un tramo clave del Corredor Mediterr√°neo.</p>
                    </div>
                </div>
            </div>


            <!-- Pie de p√°gina -->

            <footer class="py-8 px-4 text-center">
            </footer>
        </div>

        <!-- Contenedor para la vista Contador (inicialmente oculto) -->
        <div id="counter-container" class="visualization-view hidden">
            <!-- Aqu√≠ se renderizar√° la vista del contador -->
        </div>
        
        <!-- Contenedor para la vista de Archivos (inicialmente oculto) -->
        <div id="files-container" class="visualization-view hidden">
            <h2 class="files-title">Archivos</h2>
            <div class="files-grid">
                <!-- Tarjeta de Excel -->
                <div class="file-card">
                    <div class="card-content">
                        <div class="file-preview">
                            <img src="img/excel-icon.png" alt="Vista previa Excel" class="file-image">
                        </div>
                        <button class="download-btn" id="download-excel">
                            <span class="btn-icon">üì•</span> DESCARGAR DATOS
                        </button>
                    </div>
                </div>
                
                <!-- Tarjeta de Informe -->
                <div class="file-card">
                    <div class="card-content">
                        <div class="file-preview">
                            <img src="img/report-icon.png" alt="Vista previa Informe" class="file-image">
                        </div>
                        <button class="download-btn" id="download-report">
                            <span class="btn-icon">üì•</span> DESCARGAR INFORME
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Contenedor para la vista del Chatbot (inicialmente oculto) -->
        <div id="chatbot-container" class="visualization-view hidden">
            <!-- Aqu√≠ se renderizar√° la vista del chatbot -->
        </div>

        <div id="legend" class="legend">
            <!-- Aqu√≠ se renderizar√° la leyenda de color -->
        </div>

        <div id="special-dates-section">
            <h2>Fechas Destacadas y Eventos</h2>
            <!-- El contenido se generar√° con JavaScript -->
        </div>

        <div id="tooltip" class="tooltip" style="display: none;">
            <!-- El tooltip se actualizar√° y mostrar√°/ocultar√° din√°micamente -->
        </div>
    </div>

    <!-- Carga la librer√≠a D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Carga tu script principal -->
    <script src="script.js"></script>
</body>
</html>
